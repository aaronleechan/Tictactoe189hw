
<!DOCTYPE html>
<html>
<head>



	<style>

	.square{

		width: 100px;
		height: 100px;
		font-size: 50px;

	}

	.v{
		border-left: 1px solid ;
		border-right: 1px solid ;
	}

	.h{
		border-top: 1px solid ;
		border-bottom: 1px solid ;
	}
	.f{
		border-color: blue;
	}
	.s{
		border-color: red;
	}
	.p{
		text-align: center;
	}
	



	</style>
</head>
<body onload = "startGame();">

<center>	<h1> Tic Tac Toe </h1> </center>
<div id = "message"> Message will go here </div>

<p> </p>

<table>
  <tr>
    <th>O player</th>
    <th>Y player</th>
  </tr>
  <tr>
    <td id = "ps1">0</td>
    <td id = "ps2">0</td>
  </tr>
</table>

<center>

	<div id ="board">
		<table>
			<tr id = "row1">
			
				<td class = "square" id = "p1" onclick="nextMove(this)">  
					<p></p>
				</td>


				<td class = "square v"  id = "p2" onclick="nextMove(this)">
						
				</td>

				<td class = "square"  id = "p3" onclick="nextMove(this)"> 
					   	
				</td>

			</tr>

			<tr id = "row2">
				<td class = "square h" id = "p4" onclick="nextMove(this)">  
					 	
				</td>

				<td class = "square v h" id = "p5" onclick="nextMove(this)"> 	
					
				</td>

				<td class = "square h" id = "p6" onclick="nextMove(this)">  
					 	
				</td>

			</tr>

			<tr id = "row3">
				<td class ="square"  id = "p7" onclick="nextMove(this)"> 
					  		
				</td>

				<td class ="square v"  id = "p8" onclick="nextMove(this)">
					  		
				</td>

				<td class ="square" id = "p9" onclick="nextMove(this)">  
					 		
				</td>

			</tr>
		</table>
	</div>



	<div>
		
	</div>


	<script type="text/javascript">


	<!--

	var player1 = 0;
	var player2 = 0;

	function resetAll(){
		player1 = 0;
		player2 = 0;
		startGame();
	}


	function startGame(){
		document.turn = "O";
		document.winner = null;		
	}

	function setMessage(msg){
		document.getElementById("message").innerText = msg;
	}

	function playermessage(player1){
		document.getElementById("ps1").innerText = player1;
	}

	function playermsg(player2){
		document.getElementById("ps2").innerText = player2;
	}

	function nextMove(value){
		if(document.winner != null){
			setMessage(document.winner + " already won the game. ");
		}
		else if(value.innerText ==""){
		 	value.innerText = document.turn;
			switchTurn();
		}
	}

	function switchTurn(){
		if(checkForWinner(document.turn)){
		
			setMessage(document.turn + " Win " );
			document.winner = document.turn;

			if(document.turn == "O"){
				player1++;
				playermessage(player1);
				writeFileY(player1);
			}
			else if (document.turn =="X"){
				player2++;
				playermsg(player2);
				writeFileX(player2);
			}
		}else if(document.turn =="X")
		{
			document.turn = "O";
		}else {
			document.turn = "X";
		}
		
	}

	function checkForWinner(move){
		var result = false;
		if(checkRoll(1,2,3,move) || checkRoll(4,5,6,move)||
			checkRoll(7,8,9,move) ||checkRoll(1,4,7,move) ||
			checkRoll(2,5,8,move) ||checkRoll(3,6,9,move) ||
			checkRoll(1,5,9,move) ||checkRoll(3,5,7,move)){
			result = true;
		}
		return result;

	}

	function checkRoll(a,b,c,move){
		var check = false;
		if(getBox(a)== move && getBox(b) == move && getBox(c)== move){
			check = true;
		}
		return check;
	}

	function getBox (number){
		return document.getElementById("p" + number).innerText;
	}


	function cleanforPlayAgain(){

		for (var i = 1; i < 10; i++)
		{
			var val = getBox(i);
			if(getBox(i) != "")
			{
				document.getElementById("p" + i).innerText = "";
			}
		}
		startGame();
	}

	function fileOpen(){

	}

	function readFileX(){
		var txtFile = "readX.txt";

	}

	function readFileY(){
		var txtFile = "readY.txt";
	}

	function writeFileX(value){
		var txtFile = new XMLHttpRequest();
		alert(txtFile);
		try{
		txtFile.open("GET", "readX.xml",true);
		}catch(e){
			alert(e.message);
		}

		txtFile.send(value);
		alert(value);

	}

	function writeFileY(value){
		var txtFile = new XMLHttpRequest();
		alert(txtFile);
		try{
		txtFile.open("GET", "readY.txt",true);
		}catch(e){
			alert(e.message);
		}

		txtFile.send(value);
		alert(value);
	}

	

</script>

	<p id= "check"> Click the following to see result </p>

	<form>
	<input type = "button" value= "Play Again" onclick="cleanforPlayAgain();"/>

	</form>

</center>
</body>
</html>